<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="不忘初心,方得始终">
<meta property="og:type" content="website">
<meta property="og:title" content="流浪猫的 Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="流浪猫的 Blog">
<meta property="og:description" content="不忘初心,方得始终">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="流浪猫的 Blog">
<meta name="twitter:description" content="不忘初心,方得始终">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 流浪猫的 Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">流浪猫的 Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/21/03-angular-总结/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/21/03-angular-总结/" itemprop="url">
                  angular-总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-21T23:47:33+08:00">
                2016-05-21
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="angular-API"><a href="#angular-API" class="headerlink" title="angular API"></a>angular API</h2><ul>
<li>ng 表示 AngularJS.</li>
<li>官方网站<ul>
<li><a href="https://angularjs.org" target="_blank" rel="external">angular</a> </li>
<li><a href="https://code.angularjs.org/" target="_blank" rel="external">源代码</a> </li>
</ul>
</li>
<li>搭建本地文档<ul>
<li>服务器, BS 结构</li>
<li>apache 服务器软件, iis 服务器, http-server 软件</li>
<li>angular 的文档搭建</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/15/02-CSS3-总结/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/15/02-CSS3-总结/" itemprop="url">
                  CSS3-总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-15T23:47:33+08:00">
                2016-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS3-总结"><a href="#CSS3-总结" class="headerlink" title="CSS3 总结"></a>CSS3 总结</h1><hr>
<h3 id="兼容"><a href="#兼容" class="headerlink" title="兼容"></a>兼容</h3><ul>
<li>浏览器兼容的查询地址<br>  <a href="http://caniuse.com/" target="_blank" rel="external">Can I Use</a></li>
<li>在 pc 端使用 css3 属性,要加上私有前缀<ul>
<li>-webkit- :chrome</li>
<li>-o- :opera</li>
<li>-moz- :firefox</li>
<li>-ms- :IE</li>
</ul>
</li>
<li>在移动端的主流浏览器的内核都是 webkit, 只需要考虑兼容 webkit 即可</li>
</ul>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><ul>
<li>属性选择器<ul>
<li>[ attribute ]: 选中带有 attribute 属性的标签</li>
<li>[ attribute=value ]: 选中带有 attribute 属性并且值为 value 的标签</li>
<li>[ attribute!=value ]: 选中带有 attribute 属性并且值不为 value 的标签</li>
<li>[ attribute^=value ]: 选中带有 attribute 属性并且值是以 value 开头的标签</li>
<li>[ attribute$=value ]: 选中带有 attribute 属性并且值是以 value 结尾的标签</li>
<li>[ attribute*=value ]: 选中带有 attribute 属性并且值包含 value 的标签</li>
</ul>
</li>
<li>伪类选择器<ul>
<li>:first-child 选中第一个元素</li>
<li>:last-child 选中最后一个元素</li>
<li>:nth-child(number) 选中第number个元素  number为大于0的整数</li>
<li>:nth-last-child(number) 从后面选中第number个元素 number为大于0的整数</li>
<li>:empty 选中内容为空的某个元素</li>
<li>:target 选中当前的锚点</li>
<li>:not() 选中除包含()内的元素</li>
<li>:before 在目标元素的前面进行某些设置</li>
</ul>
</li>
<li><p>伪元素选择器</p>
<ul>
<li><p>::after / ::before  在目标元素的后面/前面进行某些设置<br>  常用来清除浮动</p>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>,</div><div class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>&#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">    <span class="attribute">visibility</span>: hidden;</div><div class="line">    <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>::first-letter 设置首字或首字母,只有块级元素有效</p>
</li>
<li>::first-line 设置首行</li>
<li>::selection 设置鼠标选中的内容,不能改变字体大小</li>
</ul>
</li>
</ul>
<h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><ul>
<li>opacity 注意:子元素会继承父元素</li>
<li>transparent 始终完全透明,无法实现关透明</li>
<li>rgba(红色色值(0-255),绿色色值(0-255),蓝色色值(0-255),透明度) </li>
<li>hsla(色调(0-360),饱和度(0-100),亮度(0-100),透明度 </li>
</ul>
<h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><ul>
<li>text-shadow 文本阴影<br>  有四个参数: x轴偏移距离 y轴偏移距离 阴影的大小 阴影的颜色<br>  可以设置多个阴影,中间以逗号分隔</li>
</ul>
<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><ul>
<li>box-sizing 设置宽高是从什么位置开始计算<br>  值1: content-box 从内容开始计算<br>  值2: border-box 从边框开始计算</li>
</ul>
<h3 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h3><ul>
<li>border-radius 边框圆角<br>  遵循左上,右上,右下,左下原则</li>
<li>border-shadow 边框阴影<br>  参数:x轴偏移 y轴偏移 阴影模糊度 阴影延伸距离 阴影颜色 inset(内阴影)<br>  <code>box-shadow:  -3px -3px 2px red inset</code></li>
<li>border-image 边框图片<br>  参数:图片资源路径 图片切割尺寸 边框宽度 边的平铺方式 (stretch,repeat,round)<br>  <code>border-image: url(&quot;./images/border.png&quot;) 27/20px round;</code></li>
</ul>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><ul>
<li>background-size 背景尺寸<br>  让背景完全覆盖盒子,可能会把背景裁剪 <code>background-size: cover;</code><br>  完整的显示背景,可能填不满盒子 <code>background-size: contain;</code></li>
<li>background-origin 背景原点<br>  背景的平铺从边框开始 <code>background-origin: border-box</code><br>  背景的平铺从内边距开始 <code>background-origin: padding-box</code><br>  背景的平铺从内容开始 <code>background-origin: content-box</code></li>
<li>background-clip 背景裁切<br>  背景的裁切从边框开始 <code>background-clip: border-box</code><br>  背景的裁切从内边距开始 <code>background-clip: padding-box</code><br>  背景的裁切从内容开始 <code>background-clip: content-box</code></li>
<li>多背景  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">background:</div><div class="line">        url(&quot;images/bg1.png&quot;) left top no-repeat,</div><div class="line">        url(&quot;images/bg2.png&quot;) right top no-repeat,</div><div class="line">        url(&quot;images/bg3.png&quot;) right bottom no-repeat,</div><div class="line">        url(&quot;images/bg4.png&quot;) left bottom no-repeat,</div><div class="line">        url(&quot;images/bg5.png&quot;) center center no-repeat;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h3><ul>
<li><p>linear-gradient() 线性渐变<br>  1,渐变方向.0deg 的方向是朝上  正的角度是顺时针  负的角度是逆时针.<br>  2,起始颜色<br>  3,结束颜色<br>  <code>background-image: linear-gradient(90deg,yellow,blue);</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/*渐变的区间可以用百分比来划分*/</div><div class="line">        background-image: linear-gradient(</div><div class="line">        45deg,</div><div class="line">        yellow,yellow 25%,</div><div class="line">        blue 25%,blue 50%,</div><div class="line">        yellow 50%,yellow 75%,</div><div class="line">        blue 75%,blue 100%</div><div class="line">        );</div></pre></td></tr></table></figure>
</li>
<li><p>radial-gradient 径向渐变<br>  1.扩散半径 单位px<br>  2.中心原点 top right left bottom center  还可以用坐标 单位也是px 坐标原点是盒子的左上角<br>  3.起始颜色<br>  4.结束颜色<br>  <code>background-image: radial-gradient(120px at 80px 80px,#fff,blue);</code></p>
</li>
</ul>
<h3 id="过渡"><a href="#过渡" class="headerlink" title="过渡"></a>过渡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">.transition &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    margin: 50px auto;</div><div class="line">    background-color: green;</div><div class="line"></div><div class="line">    /*1.需要过渡的属性*/</div><div class="line">    /*transition-property: all;*/</div><div class="line">    /*2.过渡执行的时间*/</div><div class="line">    /*transition-duration: 1s;*/</div><div class="line">    /*3.过渡的速度*/</div><div class="line">    /*transition-timing-function: ease;*/</div><div class="line">    /*4.过渡延时*/</div><div class="line">    /*transition-delay: 0s;*/</div><div class="line"></div><div class="line">    /*transition*/</div><div class="line">    /*transition:all 1s linear 0s;*/</div><div class="line"></div><div class="line">    transition: width 1s,height 1s linear 1s;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">.transition:hover &#123;</div><div class="line">    width: 400px;</div><div class="line">    height: 400px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2D转换"><a href="#2D转换" class="headerlink" title="2D转换"></a>2D转换</h3><ul>
<li><p>scale 缩放</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">.scale &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    margin: 100px auto;</div><div class="line">    background-color: green;</div><div class="line">    transition: all 1s;</div><div class="line"></div><div class="line">    /*如果没有设置默认的是盒子的中心点*/</div><div class="line">    /*转换原点*/</div><div class="line">    transform-origin:  right top;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">.scale:hover &#123;</div><div class="line">    /*缩放*/</div><div class="line">    /*</div><div class="line">    1.x轴方向的缩放</div><div class="line">    2.y轴方向的缩放</div><div class="line"></div><div class="line">    比1大 放大</div><div class="line">    比1小 缩小</div><div class="line"></div><div class="line">    如果要等比缩放需要同时设置</div><div class="line">    */</div><div class="line">    transform: scale(0.5,0.5);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>translate 移动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">.translate &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 600px;</div><div class="line">    background-color: green;</div><div class="line">    position: absolute;</div><div class="line">    left: 200px;</div><div class="line">    top: 50px;</div><div class="line">    transition: all 1s linear;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.translate:hover &#123;</div><div class="line">    /*基于原来的位置做移动*/</div><div class="line">    /*translate*/</div><div class="line">    /*</div><div class="line">    1.x轴方向的位移</div><div class="line">    2.y轴方向的位移</div><div class="line">    */</div><div class="line">    /*位移当中的百分比的计算是基于盒子自身*/</div><div class="line">    /*任意元素居中*/</div><div class="line">    transform: translate(-100%,0);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>rotate 旋转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">.rotate &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    margin: 60px auto;</div><div class="line">    background-color: green;</div><div class="line">    transition: all 1s;</div><div class="line"></div><div class="line">    /*转化原点*/</div><div class="line">    transform-origin: left bottom;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotate:hover &#123;</div><div class="line">    /*rotate 旋转*/</div><div class="line">    /*旋转角度 单位 deg*/</div><div class="line">    /* 如果是正的  是顺时针旋转 */</div><div class="line">    /* 如果是负的  是逆时针旋转 */</div><div class="line">    transform: rotate(-90deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>skew 倾斜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">.skew &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    margin: 100px auto;</div><div class="line">    background-color: green;</div><div class="line">    border-width: 5px;</div><div class="line">    border-style: solid;</div><div class="line">    border-color: red pink blue yellow;</div><div class="line">    transition:all 1s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.skew:hover &#123;</div><div class="line">    /*skew  倾斜*/</div><div class="line">    /*</div><div class="line">    1.x轴方向的倾斜 当值正的时候是逆时针倾斜  否则相反</div><div class="line">    2.y轴方向的倾斜</div><div class="line">    */</div><div class="line">    /*最后使用单个方向的倾斜*/</div><div class="line">    transform: skew(45deg,0deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3D转换"><a href="#3D转换" class="headerlink" title="3D转换"></a>3D转换</h3><ul>
<li><p>rotateX  绕 x 轴旋转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">.rotateX &#123;</div><div class="line">    height: 226px;</div><div class="line">    padding-top: 100px;</div><div class="line">    text-align: center;</div><div class="line">    /*透视属性*/ /*视距*/</div><div class="line">    /*辅助观察3d效果*/</div><div class="line">    perspective: 100px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateX img &#123;</div><div class="line">    transition: all 5s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateX:hover img &#123;</div><div class="line">    /*</div><div class="line">        1.需要朝着x轴的正方向看</div><div class="line">        2.当是逆时针旋转  是正角度</div><div class="line">        3.当是顺时针旋转  是负角度</div><div class="line">    */</div><div class="line"></div><div class="line">    transform: rotateX(-180deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>rotateY  绕 y 轴旋转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">.rotateY &#123;</div><div class="line">    height: 226px;</div><div class="line">    padding-top: 100px;</div><div class="line">    text-align: center;</div><div class="line">    perspective: 100px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateY img &#123;</div><div class="line">    transition: all 5s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateY:hover img &#123;</div><div class="line">    /*</div><div class="line">        1.需要朝着y轴的正方向看</div><div class="line">        2.当是逆时针旋转  是正角度</div><div class="line">        3.当是顺时针旋转  是负角度</div><div class="line">    */</div><div class="line">    transform: rotateY(-180deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>rotateZ  绕 z 轴旋转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">.rotateZ &#123;</div><div class="line">    height: 226px;</div><div class="line">    padding-top: 100px;</div><div class="line">    text-align: center;</div><div class="line">    perspective: 100px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateZ img &#123;</div><div class="line">    transition: all 5s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.rotateZ:hover img &#123;</div><div class="line">    /*</div><div class="line">        1.需要朝着Z轴的正方向看</div><div class="line">        2.当是逆时针旋转  是正角度</div><div class="line">        3.当是顺时针旋转  是负角度</div><div class="line">    */</div><div class="line">    transform:perspective(100px) rotateZ(-180deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>translateX  沿 x 轴移动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">.translateX &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    background-color: green;</div><div class="line">    transition: all 1s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.translateX:hover &#123;</div><div class="line">    transform: perspective(100px) translateX(300px);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>translateY  沿 y 轴移动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">.translateY &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    background-color: green;</div><div class="line">    transition: all 1s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.translateY:hover &#123;</div><div class="line">    transform: perspective(100px) translateY(300px);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>translateZ  沿 z 轴移动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">.translateZ &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    background-color: green;</div><div class="line">    transition: all 1s;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.translateZ:hover &#123;</div><div class="line">    transform: perspective(100px) translateZ(300px);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>transform-style: preserve-3d; 透视效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">.preserve-3d &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    margin: 100px auto;</div><div class="line">    position: relative;</div><div class="line">    transform-style: preserve-3d;</div><div class="line">&#125;</div><div class="line">.rotateX &#123;</div><div class="line">    position: absolute;</div><div class="line">    left: 0;</div><div class="line">    top: 0;</div><div class="line">    width: 100%;</div><div class="line">    height: 100%;</div><div class="line">&#125;</div><div class="line">.rotateX:nth-child(1) &#123;</div><div class="line">    background-color: pink;</div><div class="line">&#125;</div><div class="line">.rotateX:nth-child(2) &#123;</div><div class="line">    background-color: blue;</div><div class="line">    transform: rotateX(45deg) skew(-45deg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">/*  a、通过@keyframes指定动画序列；</div><div class="line">    b、通过百分比将动画序列分割成多个节点；</div><div class="line">    c、在各节点中分别定义各属性</div><div class="line">    d、通过animation将动画应用于相应元素；</div><div class="line">*/</div><div class="line">@keyframes animationFuc &#123;</div><div class="line">    /*定义节点*/</div><div class="line">    /*from 0% to 100%*/</div><div class="line">    0%&#123;</div><div class="line">        transform: scale(1,1) rotate(0deg);</div><div class="line">    &#125;</div><div class="line">    25%&#123;</div><div class="line">        transform: scale(1.5,1.5) rotate(180deg);</div><div class="line">    &#125;</div><div class="line">    75%&#123;</div><div class="line">        transform: scale(1,1) rotate(0deg);</div><div class="line">    &#125;</div><div class="line">    100%&#123;</div><div class="line">        transform: scale(0.6,0.6) rotate(-270deg);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">.box &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 200px;</div><div class="line">    background-color: green;</div><div class="line"></div><div class="line">    /*加上动画*/</div><div class="line">    /*animation: animationFuc 2s;*/</div><div class="line"></div><div class="line">    /*动画序列名称*/</div><div class="line">    animation-name: animationFuc;</div><div class="line">    /*动画执行时间*/</div><div class="line">    animation-duration: 2s;</div><div class="line">    /*动画执行速度 ease*/</div><div class="line">    animation-timing-function: steps(3);/*特殊的速度  steps(3)*/</div><div class="line">    /*动画延时*/</div><div class="line">    animation-delay: 1s;</div><div class="line">    /*当动画结束之后逆向动画回去*/</div><div class="line">    animation-direction: alternate;</div><div class="line">    /*动画执行的次数 （注意：逆播放也算一次）*/</div><div class="line">    animation-iteration-count:1;</div><div class="line">    /*播放完成是要默认回到初始状态</div><div class="line">    forwards 保存动画结束的状态</div><div class="line">    backwards 回到初始状态 默认</div><div class="line">    */</div><div class="line">    animation-fill-mode: forwards;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.box:hover&#123;</div><div class="line">    /*动画暂停或者执行 默认running、paused暂停*/</div><div class="line">    animation-play-state: paused;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="多列布局"><a href="#多列布局" class="headerlink" title="多列布局"></a>多列布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">.wrapper &#123;</div><div class="line">    width: 1024px;</div><div class="line">    padding: 30px;</div><div class="line">    line-height: 1.75;</div><div class="line">    margin: 0 auto;</div><div class="line">    font-family: &apos;微软雅黑&apos;;</div><div class="line">    color: #333;</div><div class="line">    box-sizing: border-box;</div><div class="line"></div><div class="line">    /*指定列数*/</div><div class="line">    -webkit-column-count: 3;</div><div class="line"></div><div class="line">    /*指定列宽*/</div><div class="line">    -webkit-column-width:200px;</div><div class="line"></div><div class="line">    /*定义边框线 和 border一样*/</div><div class="line">    -webkit-column-rule: 2px dashed #CCC;</div><div class="line"></div><div class="line">    /*调整列间距*/</div><div class="line">    -webkit-column-gap: 50px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="伸缩布局"><a href="#伸缩布局" class="headerlink" title="伸缩布局"></a>伸缩布局</h3><ul>
<li>参考图片<br>  <img src="https://img.alicdn.com/imgextra/i2/2406102577/TB2qVpodVXXXXXLXpXXXXXXXXXX_!!2406102577.png?_=4649648" alt="参考图片"></li>
<li>flex-direction 调整主轴方向(默认为水平方向)<br>  包括 row、column、row-reverse、column-reverse</li>
<li>justify-content 调整主轴方向上的对齐方式<br>  包括 flex-start、flex-end、center、space-around、space-between</li>
<li>align-items 调整侧轴对齐方式<br>  包括 flex-start、flex-end、center、stretch</li>
<li>flex-wrap 控制是否换行<br>  包括 wrap、nowrap</li>
<li>align-content 堆栈排列,可对应用flex-wrap: wrap后产生的换行进行控制<br>  包括flex-start、flex-end、center、space-between、space-around、stretch</li>
<li>flex 控制子元素的伸缩比例</li>
<li>flex-flow flex-direction和flex-wrap的简写形式</li>
<li>经典网页布局案例<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">        <span class="selector-tag">html</span>,<span class="selector-tag">body</span>&#123;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="selector-tag">body</span>&#123;</div><div class="line">            <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-class">.container</span>&#123;</div><div class="line">            <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">            <span class="attribute">background</span>: red;</div><div class="line"></div><div class="line">            <span class="attribute">display</span>: flex;</div><div class="line"></div><div class="line">            <span class="attribute">flex-direction</span>: column;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-tag">header</span>&#123;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: pink;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-tag">main</span>&#123;</div><div class="line">            <span class="attribute">flex</span>: <span class="number">1</span>;</div><div class="line">            <span class="attribute">background</span>: green;</div><div class="line"></div><div class="line">            <span class="attribute">display</span>: flex;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-tag">section</span>&#123;</div><div class="line">            <span class="attribute">flex</span>: <span class="number">2</span>;</div><div class="line">            <span class="attribute">background</span>: blue;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-tag">aside</span>&#123;</div><div class="line">            <span class="attribute">flex</span>: <span class="number">3</span>;</div><div class="line">            <span class="attribute">background</span>: purple;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="selector-tag">footer</span>&#123;</div><div class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">            <span class="attribute">background</span>: yellow;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">header</span>&gt;</span>1<span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">section</span>&gt;</span>2<span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">aside</span>&gt;</span>3<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">footer</span>&gt;</span>4<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/16/02-媒体查询 @media-介绍/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/16/02-媒体查询 @media-介绍/" itemprop="url">
                  媒体查询 @media-介绍
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-16T23:47:33+08:00">
                2016-02-16
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="媒体查询-media"><a href="#媒体查询-media" class="headerlink" title="媒体查询 @media"></a>媒体查询 @media</h1><ul>
<li><p>对媒体查询的理解<br>媒体查询其实就是 CSS 的 if 语句. 如果宽度为800px或更宽，如果是横屏，如果分辨率是1.5dppx或更小：使用这些CSS声明。<br>媒体查询有以下三种类型:<br>1,媒介类型查询<br>2,视口相关的媒体查询<br>3,特性相关媒体查询</p>
</li>
<li><p>媒体查询语法介绍</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@media all and (max-width: 400) &#123;  </div><div class="line">div.sidebar &#123;  </div><div class="line">// 这些给div.sidebar定义的样式在宽度小于或等于400px时才会生效  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>1, 所有媒体查询都需要一个媒体类型，通常使用all是最好的。<br>2, 你应该在你的媒体查询中总是使用min-或max-前缀。通常情况下，你不关心一个准确的值，而是关心一个范围。上面的例子只要在布局视口的宽度小于或等于400px的时候就会工作，下面我们看到的例子只有在分辨率小于或等于1.5的时候才会工作。<br>3, 虽然没有定义正式的单位，但媒体查询的单位是像素。你也可以使用CSS的其他长度单位，如em或cm，不过你需要显式地定义它们。只有百分比不是很有用，说句实话我甚至不确定它们是否已经被支持了。（另外，是什么的百分比呢？)<br>4, 你可以尽情地使用媒体查询。and是逻辑运算符and，逗号是逻辑运算符or。下面来看一个更复杂的例子。下一个媒体查询会在布局视口宽度小于或等于400px，屏幕方向为竖直，分辨率小于或等于1.5的时候起作用。因为浏览器兼容性问题，最后一个条件需要两个媒体查询，并且它们被一个逗号分隔。（设备像素比小于或等于1.5，或分辨率小于或等于144dpi）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@media all and (max-width: 400) and (orientation: portrait)  </div><div class="line">and ((max-resolution: 144dpi),  </div><div class="line">(-webkit-max-device-pixel-ratio: 1.5)) &#123;  </div><div class="line">/* 只有在布局视口不超过400px、设备处于竖屏模式，并且 </div><div class="line">devicePixelRatio小于等于1.5时才会生效 */  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>5, 到目前为止，你将使用的最重要的媒体查询是width。在必须使一些东西显示在首屏的使用场景中才会使用到height。width和height的媒体查询设置了当前布局视口的宽和高，并且在所有浏览器中都能工作。使用完美meta视口标签，你可以放心地抛开布局视口的宽度，它现在与理想视口的尺寸相同。这是响应式设计的核心。height的使用没那么简单，因为它会算上浏览器的工具栏，并且这个工具栏会在用户滚动的时候进入或离开可见区域。尽情地使用它吧，不过给浏览器一些决定高度的余地。</p>
<ul>
<li>在媒体查询中使用 em<br>在CSS中，1em等于一个字体的大小；对于一个14px的字体，1em将等于14px宽。术语font size通常是指你的CSS给元素设置的字体大小，但在媒体查询中它指的是文档根元素的字体大小。就是html元素的字体大小。毕竟媒体查询是对整个页面起作用的，而不是对某一个特定元素。<br>在移动端，根元素的字体大小在你缩放的时候是不会变的。缩放是放大CSS像素的过程，这个过程跟字体大小没有任何关系，所以不管用户缩放了多少，1em的宽度还是同样多的CSS像素。因此，在移动端，em并不比像素优秀。<br>换句话说，em只有在你的网站的根元素字体大小有可能改变并且你希望布局根据这个变化改变的时候比像素优秀。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/15/02-移动端页面使用rem来做适配/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/15/02-移动端页面使用rem来做适配/" itemprop="url">
                  移动端页面使用 rem 来做适配
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-15T23:47:33+08:00">
                2016-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="移动端页面使用-rem-来做适配"><a href="#移动端页面使用-rem-来做适配" class="headerlink" title="移动端页面使用 rem 来做适配"></a>移动端页面使用 rem 来做适配</h1><ul>
<li><p>什么是 rem<br>rem（font size of the root element）是指相对于根元素（即html元素）的字体大小的单位。<br>假设根元素的字体大小是10px, 则5rem的大小为 5*10=50px,<br>例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">html&#123;</div><div class="line">    font-size: 10px;</div><div class="line">&#125;</div><div class="line">p&#123;</div><div class="line">    width: 2rem; /* 2*10 = 20px;*/</div><div class="line">    margin: 1rem;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>用 rem 来做适配<br>以前我们往往这样做页面：viewport width 设置为 device-width，然后选我们需要兼容设备的最小宽度（一般是320px）。根据这最小宽度来做页面。单位使用px和百分比。在宽度不同的设备上，页面的字体大小，内容尺寸都是一样的，不同的是，大屏的内容间的空隙比小屏的大。所以这样做的缺点就是，页面在某些尺寸的设备上显示的效果不好。<br>如果用rem来页面，我们会根据不同的设备宽度在根元素上设置不同的字体大小。宽度越宽，字体越大。然后对原本使用px的地方使用rem来替换。这样，字体大小，内容尺寸，对随着屏幕宽度的变大而变大。</p>
</li>
<li>具体做法<br>1 根据不同的设备宽度在根元素上设置不同的字体大小。<br>我一般会设置1rem为1/10屏幕宽度。代码如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">;</div><div class="line">(function(win) &#123;</div><div class="line">    var doc = win.document;</div><div class="line">    var docEl = doc.documentElement;</div><div class="line">    var tid;</div><div class="line"></div><div class="line">    function refreshRem() &#123;</div><div class="line">        var width = docEl.getBoundingClientRect().width;</div><div class="line">        if (width &gt; 540) &#123; // 最大宽度</div><div class="line">            width = 540;</div><div class="line">        &#125;</div><div class="line">        var rem = width / 10; // 将屏幕宽度分成10份， 1份为1rem</div><div class="line">        docEl.style.fontSize = rem + &apos;px&apos;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    win.addEventListener(&apos;resize&apos;, function() &#123;</div><div class="line">        clearTimeout(tid);</div><div class="line">        tid = setTimeout(refreshRem, 300);</div><div class="line">    &#125;, false);</div><div class="line">    win.addEventListener(&apos;pageshow&apos;, function(e) &#123;</div><div class="line">        if (e.persisted) &#123;</div><div class="line">            clearTimeout(tid);</div><div class="line">            tid = setTimeout(refreshRem, 300);</div><div class="line">        &#125;</div><div class="line">    &#125;, false);</div><div class="line"></div><div class="line">    refreshRem();</div><div class="line"></div><div class="line">&#125;)(window);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>2 做页面时<br>我一般会将设计稿缩小至宽度为320px（切图标时，还是按照原图来切）。在上一步中，1rem为1/10屏幕宽度。因此，px与rem的转化为 1px = 1 / 320 * 10rem。如果使用Sass可以用如下的转化代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">// rem.scss</div><div class="line">@charset &quot;utf-8&quot;;</div><div class="line">$divide: 10;</div><div class="line">$pswWidth: 320;</div><div class="line">$ppr: 320px/$divide/1rem;// 定义单位</div><div class="line"></div><div class="line">// https://css-tricks.com/snippets/css/less-mixin-for-rem-font-sizing/</div><div class="line">@mixin toRem($property, $values...) &#123;</div><div class="line">    $max: length($values);</div><div class="line">    $remValues: &apos;&apos;;</div><div class="line">    @for $i from 1 through $max &#123;</div><div class="line">        $value: nth($values, $i) * $divide / $pswWidth;</div><div class="line">        $remValues: #&#123;$remValues + $value&#125;rem;</div><div class="line">        @if $i &lt; $max &#123;</div><div class="line">            $remValues: #&#123;$remValues + &quot; &quot;&#125;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    #&#123;$property&#125;: $remValues;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后，在其他文件中,类似如下进行调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@import &quot;rem&quot;;</div><div class="line">.nav-list &#123;</div><div class="line">    height: 10px/$ppr;</div><div class="line">    @include toRem(margin, 10, 15, 10, 15);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>生成的CSS<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.nav-list &#123;</div><div class="line">  height: 0.3125rem;</div><div class="line">  margin: 0.3125rem 0.46875rem 0.3125rem 0.46875rem;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/15/02-Bootstrap-快速使用/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/15/02-Bootstrap-快速使用/" itemprop="url">
                  Bootstrap-快速使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-15T23:47:33+08:00">
                2016-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h1><ul>
<li>简介<br>Bootstrap 是最受欢迎的 HTML CSS 和 JS 框架, 用于开发响应式布局,移动设备优先的项目.<br><a href="http://www.bootcss.com/" target="_blank" rel="external">Bootstrap 中文网</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/15/02-视口属性 viewpoint-介绍/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/15/02-视口属性 viewpoint-介绍/" itemprop="url">
                  视口属性 viewpoint-介绍
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-15T23:47:33+08:00">
                2016-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="视口属性-viewpoint-介绍"><a href="#视口属性-viewpoint-介绍" class="headerlink" title="视口属性-viewpoint-介绍"></a>视口属性-viewpoint-介绍</h1><ul>
<li><p>对 viewpoint 的深入理解可以参考这篇博客<br><a href="http://www.cnblogs.com/2050/p/3877280.html" target="_blank" rel="external">移动前端开发之viewport的深入理解</a></p>
</li>
<li><p>viewpoint 概念<br>通俗的讲，移动设备上的viewport就是设备的屏幕上能用来显示我们的网页的那一块区域，在具体一点，就是浏览器上(也可能是一个app中的webview)用来显示网页的那部分区域，但viewport又不局限于浏览器可视区域的大小，它可能比浏览器的可视区域要大，也可能比浏览器的可视区域要小。在默认情况下，一般来讲，移动设备上的viewport都是要大于浏览器可视区域的，这是因为考虑到移动设备的分辨率相对于桌面电脑来说都比较小，所以为了能在移动设备上正常显示那些传统的为桌面浏览器设计的网站，移动设备上的浏览器都会把自己默认的viewport设为980px或1024px（也可能是其它值，这个是由设备自己决定的），但带来的后果就是浏览器会出现横向滚动条，因为浏览器可视区域的宽度是比这个默认的viewport的宽度要小的。</p>
</li>
<li><p>viewpoint 语法介绍</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;!-- html document --&gt;</div><div class="line">&lt;meta name=&quot;viewport&quot;</div><div class="line">content=&quot;</div><div class="line">height = [pixel_value | device-height] ,</div><div class="line">width = [pixel_value | device-width ] ,</div><div class="line">initial-scale = float_value ,</div><div class="line">minimum-scale = float_value ,</div><div class="line">maximum-scale = float_value ,</div><div class="line">user-scalable = [yes | no] ,</div><div class="line">target-densitydpi = [dpi_value | device-dpi | high-dpi | medium-dpi | low-dpi]</div><div class="line">&quot;</div><div class="line">/&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>width<br>width表示网页的布局layout宽度，控制 viewport 的大小，可以指定的一个值(默认单位px)或者特殊的值，如: width=960, initial-scale=0.33（960是页面layout的宽度,这里设width意思是将其它缩小到大约1/3，这样正好可以在320像素的手机设备上看到整个网页）<br>或 width=device-width (设备的宽度,通用写法)</p>
</li>
<li><p>height<br>和width用法相同，指定高度。</p>
</li>
<li><p>target-densitydpi<br>一个屏幕像素密度是由屏幕分辨率决定的，通常定义为每英寸点的数量（dpi）。Android支持三种屏幕像素密度：低像素密度，中像素密度，高像素密度。一个低像素密度的屏幕每英寸上的像素点更少，而一个高像素密度的屏幕每英寸上的像素点更多。Android Browser和WebView默认屏幕为中像素密度。<br>device-dpi –使用设备原本的 dpi 作为目标 dp。 不会发生默认缩放。<br>high-dpi – 使用hdpi 作为目标 dpi。 中等像素密度和低像素密度设备相应缩小。<br>medium-dpi – 使用mdpi作为目标 dpi。 高像素密度设备相应放大， 像素密度设备相应缩小。 这是默认的target density.<br>low-dpi -使用mdpi作为目标 dpi。中等像素密度和高像素密度设备相应放大。<br>指定一个具体的dpi 值作为target dpi. 这个值的范围必须在70–400之间。</p>
</li>
<li><p>initial-scale<br>初始缩放。即页面打开时默认的初始缩放程度。这是一个浮点值，是页面大小的一个乘数。例如，如果你设置初始缩放为“1.0”，那么，web页面在展现的时候就会以target density分辨率的1:1来展现。如果你设置为“2.0”，那么这个页面就会放大为2倍。</p>
</li>
<li><p>maximum-scale<br>最大缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能放大2倍。</p>
</li>
<li><p>minimum-scale<br>最小缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能缩小2倍。</p>
</li>
<li><p>user-scalable<br>用户调整缩放。即用户是否能改变页面缩放程度。如果设置为yes则是允许用户对其进行改变，反之为no。默认值是yes。如果你将其设置为no，那么minimum-scale 和 maximum-scale都将被忽略，因为根本不可能缩放。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/15/02-zepto-快速使用/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/15/02-zepto-快速使用/" itemprop="url">
                  zepto-快速使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-15T23:47:33+08:00">
                2016-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="zepto"><a href="#zepto" class="headerlink" title="zepto"></a>zepto</h1><ul>
<li>简介<br>Zepto是一个轻量级的针对现代高级浏览器的JavaScript库， 它与jquery有着类似的api。 如果你会用jquery，那么你也会用zepto。<br>Zepto的设计目的是提供 jQuery 的类似的API，但并不是100%覆盖 jQuery 。Zepto设计的目的是有一个5-10k的通用库、下载并快速执行、有一个熟悉通用的API，所以你能把你主要的精力放到应用开发上。<br><a href="http://www.css88.com/doc/zeptojs_api/" target="_blank" rel="external">zepto 中文 api</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/20/01-canvas-应用实例2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/20/01-canvas-应用实例2/" itemprop="url">
                  HTML5-canvas-应用实例:模仿游戏中控制 NPC 的行走动画
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-20T23:47:33+08:00">
                2016-01-20
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="canvas-模仿游戏中控制-NPC-的行走动画"><a href="#canvas-模仿游戏中控制-NPC-的行走动画" class="headerlink" title="canvas 模仿游戏中控制 NPC 的行走动画"></a>canvas 模仿游戏中控制 NPC 的行走动画</h1><hr>
<p>动画也是 canvas 能够完成的功能,本次实现的模仿游戏中控制小人行走的动画功能.<br>直接上代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">style</span>=<span class="string">"border:1px solid red"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> cvs = <span class="built_in">document</span>.querySelector(<span class="string">'canvas'</span>);</div><div class="line">    <span class="keyword">var</span> ctx = cvs.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line">    <span class="comment">// 混入（也叫copy）</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params"> o1, o2 </span>) </span>&#123;</div><div class="line">        <span class="keyword">for</span>( <span class="keyword">var</span> key <span class="keyword">in</span> o2 ) &#123;</div><div class="line"></div><div class="line">            <span class="comment">// 如果是o2自己的属性，我再给你混入</span></div><div class="line">            <span class="keyword">if</span>( o2.hasOwnProperty( key ) ) &#123;</div><div class="line">                o1[ key ] = o2[ key ];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">    * constructor &#123; Person &#125; 人物构造函数</div><div class="line">    * param &#123; ctx: Context &#125; 绘图上下文</div><div class="line">    * param &#123; img: Image &#125; 小人的精灵图片</div><div class="line">    * param &#123; widthFrame: number &#125; 图片一排有多个帧(一个帧代表一个小人)</div><div class="line">    * param &#123; heightFrame: number &#125; 图片一列有多个帧(一个帧代表一个小人)</div><div class="line">    *</div><div class="line">    * */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"> ctx, img, widthFrame, heightFrame </span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.ctx = ctx;</div><div class="line">        <span class="keyword">this</span>.img = img;</div><div class="line">        <span class="keyword">this</span>.widthFrame = widthFrame;</div><div class="line">        <span class="keyword">this</span>.heightFrame = heightFrame;</div><div class="line"></div><div class="line">        <span class="comment">// 小人默认的初始位置</span></div><div class="line">        <span class="keyword">this</span>.x = <span class="number">10</span>;</div><div class="line">        <span class="keyword">this</span>.y = <span class="number">10</span>;</div><div class="line"></div><div class="line">        <span class="comment">// 小人的宽&amp;高</span></div><div class="line">        <span class="keyword">this</span>.width = <span class="keyword">this</span>.img.width / <span class="keyword">this</span>.widthFrame;</div><div class="line">        <span class="keyword">this</span>.height = <span class="keyword">this</span>.img.height / <span class="keyword">this</span>.heightFrame;</div><div class="line"></div><div class="line">        <span class="comment">// 小人行走的速度</span></div><div class="line">        <span class="keyword">this</span>.speed = <span class="number">5</span>;</div><div class="line"></div><div class="line">        <span class="comment">// 控制小人某动作的第几帧</span></div><div class="line">        <span class="keyword">this</span>.i = <span class="number">0</span></div><div class="line">        <span class="comment">// 控制小人行走某个方向</span></div><div class="line">        <span class="keyword">this</span>.direction = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="comment">// 监听键盘事件</span></div><div class="line">        <span class="keyword">this</span>.bind();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 给Person原型混入一些方法</span></div><div class="line">    extend( Person.prototype, &#123;</div><div class="line"></div><div class="line">        <span class="comment">// 绘制小人</span></div><div class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.ctx.drawImage( <span class="keyword">this</span>.img,</div><div class="line">                <span class="keyword">this</span>.width * <span class="keyword">this</span>.i, <span class="keyword">this</span>.height * <span class="keyword">this</span>.direction, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height,</div><div class="line">                <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height);</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 更新小人的数据</span></div><div class="line">        update: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="keyword">this</span>.i = ++<span class="keyword">this</span>.i % <span class="number">4</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 让小人根据方向行走，如果走出画布，从反方向出来</span></div><div class="line">            <span class="keyword">switch</span> ( <span class="keyword">this</span>.direction ) &#123;</div><div class="line"></div><div class="line">                <span class="comment">// 向下走</span></div><div class="line">                <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                    <span class="keyword">this</span>.y += <span class="keyword">this</span>.speed;</div><div class="line">                    <span class="keyword">this</span>.y = <span class="keyword">this</span>.y &gt; <span class="keyword">this</span>.ctx.canvas.height? -<span class="keyword">this</span>.height: <span class="keyword">this</span>.y;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line"></div><div class="line">                <span class="comment">// 向左走</span></div><div class="line">                <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                    <span class="keyword">this</span>.x -= <span class="keyword">this</span>.speed;</div><div class="line">                    <span class="keyword">this</span>.x = <span class="keyword">this</span>.x &lt; -<span class="keyword">this</span>.width? <span class="keyword">this</span>.ctx.canvas.width : <span class="keyword">this</span>.x;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line"></div><div class="line">                <span class="comment">// 向右走</span></div><div class="line">                <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                    <span class="keyword">this</span>.x += <span class="keyword">this</span>.speed;</div><div class="line">                    <span class="keyword">this</span>.x = <span class="keyword">this</span>.x &gt; <span class="keyword">this</span>.ctx.canvas.width? -<span class="keyword">this</span>.width: <span class="keyword">this</span>.x;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line"></div><div class="line">                <span class="comment">// 向上走</span></div><div class="line">                <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">                    <span class="keyword">this</span>.y -= <span class="keyword">this</span>.speed;</div><div class="line">                    <span class="keyword">this</span>.y = <span class="keyword">this</span>.y &lt; -<span class="keyword">this</span>.height? <span class="keyword">this</span>.ctx.canvas.height: <span class="keyword">this</span>.y;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 根据键盘的左上右下键修改小人行走的方向</span></div><div class="line">            <span class="built_in">document</span>.addEventListener( <span class="string">'keydown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> e </span>) </span>&#123;</div><div class="line">                <span class="keyword">switch</span> ( e.keyCode ) &#123;</div><div class="line">                    <span class="keyword">case</span> <span class="number">37</span>:</div><div class="line">                        self.direction = <span class="number">1</span>;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">38</span>:</div><div class="line">                        self.direction = <span class="number">3</span>;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">39</span>:</div><div class="line">                        self.direction = <span class="number">2</span>;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">40</span>:</div><div class="line">                        self.direction = <span class="number">0</span>;</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125; );</div><div class="line">        &#125;</div><div class="line">    &#125; );</div><div class="line"></div><div class="line">    <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</div><div class="line">    img.src = <span class="string">'./imgs/NPCrabbitbaby.png'</span>;</div><div class="line">    img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> person = <span class="keyword">new</span> Person( ctx, img, <span class="number">4</span>, <span class="number">4</span> );</div><div class="line"></div><div class="line">        setInterval( <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">// 清除上一次绘制的小人</span></div><div class="line">            ctx.clearRect( <span class="number">0</span>, <span class="number">0</span>, cvs.width, cvs.height );</div><div class="line">            person.draw();</div><div class="line">            person.update();</div><div class="line">        &#125;, <span class="number">50</span>);</div><div class="line">    &#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/19/01-HTML5-地理定位/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/19/01-HTML5-地理定位/" itemprop="url">
                  HTML5-地理定位
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-19T23:47:33+08:00">
                2016-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HTML5-地理位置定位（HTML5-Geolocation）"><a href="#HTML5-地理位置定位（HTML5-Geolocation）" class="headerlink" title="HTML5 地理位置定位（HTML5 Geolocation）"></a>HTML5 地理位置定位（HTML5 Geolocation）</h1><hr>
<ul>
<li>简单介绍<ul>
<li>地理位置(Geolocation) 是 html5 的重要特性之一, 提供了确定用户位置的功能,      借助这个特性能够开发基于位置信息的应用.</li>
<li>鉴于该特性可能侵犯用户的隐私, 除非用户同意, 否则用户位置信息是不可用的.</li>
<li>浏览器支持: IE 9、Firefox、Chrome、Safari 以及 Opera 支持地理定位.</li>
</ul>
</li>
<li><p>简单使用</p>
<ul>
<li><p>getCurrentPosition() 方法获取用户的位置.</p>
<p>getCurrentPosition() 方法有两个参数:</p>
<ul>
<li>参数1: 获取位置成功的返回函数</li>
<li>参数2: 获取位置失败的返回函数<br>实例<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocation</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (navigator.geolocation) &#123;</div><div class="line">    navigator.geolocation.getCurrentPosition(showPosition);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span> &#123; </div><div class="line">    navigator.geolocation.getCurrentPosition(showError);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showPosition</span>(<span class="params">position</span>)</span></div><div class="line">  &#123; </div><div class="line">    <span class="comment">//结合谷歌地图 api 将定位位置在谷歌地图中显示</span></div><div class="line">    <span class="keyword">var</span> latlon=position.coords.latitude+<span class="string">","</span>+position.coords.longitude;</div><div class="line">    <span class="keyword">var</span> img_url=<span class="string">"http://maps.googleapis.com/maps/api/staticmap?center="</span></div><div class="line">    +latlon+<span class="string">"&amp;zoom=14&amp;size=400x300&amp;sensor=false"</span>;</div><div class="line"></div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"mapholder"</span>).innerHTML=<span class="string">"&lt;img src='"</span>+img_url+<span class="string">" ' /&gt;"</span>;</div><div class="line">  &#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showError</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="keyword">switch</span>(error.code) &#123;</div><div class="line">        <span class="comment">//用户不允许地理定位</span></div><div class="line">      <span class="keyword">case</span> error.PERMISSION_DENIED:</div><div class="line">        x.innerHTML=<span class="string">"User denied the request for Geolocation."</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="comment">//无法获取当前位置</span></div><div class="line">      <span class="keyword">case</span> error.POSITION_UNAVAILABLE:</div><div class="line">        x.innerHTML=<span class="string">"Location information is unavailable."</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="comment">//操作超时</span></div><div class="line">      <span class="keyword">case</span> error.TIMEOUT:</div><div class="line">        x.innerHTML=<span class="string">"The request to get user location timed out."</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">      <span class="keyword">case</span> error.UNKNOWN_ERROR:</div><div class="line">        x.innerHTML=<span class="string">"An unknown error occurred."</span></div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>watchPosition() 返回用户的当前位置，并继续返回用户移动时的更新位置.<br>实例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x=<span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocation</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (navigator.geolocation) &#123;</div><div class="line">    navigator.geolocation.watchPosition(showPosition);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span> &#123;x.innerHTML=<span class="string">"Geolocation is not supported by this browser."</span>;&#125;</div><div class="line">  &#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showPosition</span>(<span class="params">position</span>) </span>&#123;</div><div class="line">  x.innerHTML=<span class="string">"Latitude: "</span> + position.coords.latitude +</div><div class="line">  <span class="string">"&lt;br /&gt;Longitude: "</span> + position.coords.longitude;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/19/01-canvas-应用实例1/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="流浪猫">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/llmaopp.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="流浪猫的 Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="流浪猫的 Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/19/01-canvas-应用实例1/" itemprop="url">
                  HTML5-canvas-应用实例:折线图和饼图
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-19T23:47:33+08:00">
                2016-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="canvas-折线图和饼图的绘制"><a href="#canvas-折线图和饼图的绘制" class="headerlink" title="canvas 折线图和饼图的绘制"></a>canvas 折线图和饼图的绘制</h1><hr>
<p>在实际开发中,我们需要对数据进行展示,一般会用到 canvas 来绘制折线图和饼图.</p>
<p>以下是折线图和饼图的绘制:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"lineChart.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"pipeChart.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">style</span>=<span class="string">"border: 1px solid red"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">style</span>=<span class="string">"border: 1px solid red"</span> <span class="attr">width</span>=<span class="string">"500"</span> <span class="attr">height</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"></div><div class="line">        <span class="comment">/*------------------------------测试折线图------------------------------*/</span></div><div class="line"></div><div class="line">        <span class="keyword">var</span> cvs = <span class="built_in">document</span>.querySelector(<span class="string">'canvas'</span>);</div><div class="line">        <span class="keyword">var</span> ctx = cvs.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 需求，把门口麻辣烫7天的销售额绘制成折线图</span></div><div class="line">        <span class="keyword">var</span> data = [ <span class="number">200</span>, <span class="number">300</span>, <span class="number">50</span>, <span class="number">80</span>, <span class="number">120</span>, <span class="number">150</span>, <span class="number">400</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">50</span>, <span class="number">80</span>, <span class="number">120</span>, <span class="number">150</span>, <span class="number">400</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">50</span>, <span class="number">80</span>, <span class="number">120</span>, <span class="number">150</span>, <span class="number">400</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">50</span>, <span class="number">80</span>, <span class="number">120</span>, <span class="number">150</span>, <span class="number">400</span> ];</div><div class="line">        <span class="keyword">var</span> lineChart = <span class="keyword">new</span> LineChart( ctx, [ <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span> ], [ <span class="number">10</span>, <span class="number">20</span> ], data );</div><div class="line">        lineChart.draw();</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">/*---------------------------测试饼图------------------------------------*/</span></div><div class="line">        <span class="keyword">var</span> cvs2 = <span class="built_in">document</span>.querySelectorAll(<span class="string">'canvas'</span>)[<span class="number">1</span>];</div><div class="line">        <span class="keyword">var</span> ctx2 = cvs2.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line">        <span class="keyword">var</span> data = [</div><div class="line">            &#123; <span class="attr">val</span>: <span class="number">100</span>, <span class="attr">msg</span>: <span class="string">'喜欢女生'</span> &#125;, &#123; <span class="attr">val</span>: <span class="number">100</span>, <span class="attr">msg</span>: <span class="string">'喜欢男生'</span> &#125;, &#123; <span class="attr">val</span>: <span class="number">200</span>, <span class="attr">msg</span>: <span class="string">'都喜欢的'</span> &#125;, &#123; <span class="attr">val</span>: <span class="number">150</span>, <span class="attr">msg</span>: <span class="string">'喜欢同性'</span> &#125;</div><div class="line">        ];</div><div class="line">        <span class="keyword">var</span> pipeChart = <span class="keyword">new</span> PipeChart(ctx2, data, <span class="number">200</span>, <span class="number">200</span>, <span class="number">80</span>);</div><div class="line">        pipeChart.draw();</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>对折线图进行封装的 js 代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> w </span>) </span>&#123;</div><div class="line">    <span class="comment">/*</span></div><div class="line">     * constructor &#123; LineChart &#125; 折线图构造函数</div><div class="line">     * param &#123; ctx: Context &#125; 绘图上下文</div><div class="line">     * param &#123; paddingArr: Array &#125; 折线图到画布四边的距离，存储顺序为上右下左</div><div class="line">     * param &#123; arrowArr: Array &#125; 折线图中箭头的宽和高</div><div class="line">     * param &#123; data: Array &#125; 存储了折线图中所需的数据</div><div class="line">     * */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">LineChart</span>(<span class="params"> ctx, paddingArr, arrowArr, data </span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.ctx = ctx;</div><div class="line">        <span class="keyword">this</span>.paddingArr = paddingArr;</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.arrowArr = arrowArr;</div><div class="line">        <span class="keyword">this</span>.arrowWidth = <span class="keyword">this</span>.arrowArr[<span class="number">0</span>];</div><div class="line">        <span class="keyword">this</span>.arrowHeight = <span class="keyword">this</span>.arrowArr[<span class="number">1</span>];</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.data = data;</div><div class="line"></div><div class="line">        <span class="comment">// 计算上顶点的坐标</span></div><div class="line">        <span class="keyword">this</span>.vertexTop = &#123;</div><div class="line">            <span class="attr">x</span>: <span class="keyword">this</span>.paddingArr[ <span class="number">3</span> ],</div><div class="line">            <span class="attr">y</span>: <span class="keyword">this</span>.paddingArr[ <span class="number">0</span> ]</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        <span class="comment">// 计算原点的坐标</span></div><div class="line">        <span class="keyword">this</span>.origin = &#123;</div><div class="line">            <span class="attr">x</span>: <span class="keyword">this</span>.paddingArr[ <span class="number">3</span> ],</div><div class="line">            <span class="attr">y</span>: <span class="keyword">this</span>.ctx.canvas.height - <span class="keyword">this</span>.paddingArr[ <span class="number">2</span> ]</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        <span class="comment">// 计算右顶点的坐标</span></div><div class="line">        <span class="keyword">this</span>.vertexRight = &#123;</div><div class="line">            <span class="attr">x</span>: <span class="keyword">this</span>.ctx.canvas.width - <span class="keyword">this</span>.paddingArr[ <span class="number">1</span> ],</div><div class="line">            <span class="attr">y</span>: <span class="keyword">this</span>.ctx.canvas.height - <span class="keyword">this</span>.paddingArr[ <span class="number">2</span> ]</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        <span class="comment">// 根据数据得到对应的坐标</span></div><div class="line">        <span class="keyword">this</span>.processData();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">// 置换原型</span></div><div class="line">    LineChart.prototype = &#123;</div><div class="line"></div><div class="line">        <span class="attr">constructor</span>: LineChart,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制折线图</span></div><div class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.drawCoordinate();</div><div class="line">            <span class="keyword">this</span>.drawArrow();</div><div class="line">            <span class="keyword">this</span>.drawPoint();</div><div class="line">            <span class="keyword">this</span>.drawLine();</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制坐标轴中的两条线</span></div><div class="line">        drawCoordinate: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">            <span class="keyword">this</span>.ctx.moveTo( <span class="keyword">this</span>.vertexTop.x, <span class="keyword">this</span>.vertexTop.y );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.origin.x, <span class="keyword">this</span>.origin.y );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexRight.x, <span class="keyword">this</span>.vertexRight.y );</div><div class="line">            <span class="keyword">this</span>.ctx.stroke();</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制坐标轴中的两个箭头</span></div><div class="line">        drawArrow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// 先绘制上面箭头</span></div><div class="line">            <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">            <span class="keyword">this</span>.ctx.moveTo( <span class="keyword">this</span>.vertexTop.x, <span class="keyword">this</span>.vertexTop.y );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexTop.x - <span class="keyword">this</span>.arrowWidth / <span class="number">2</span>, <span class="keyword">this</span>.vertexTop.y + <span class="keyword">this</span>.arrowHeight );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexTop.x, <span class="keyword">this</span>.vertexTop.y + <span class="keyword">this</span>.arrowHeight / <span class="number">2</span> );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexTop.x + <span class="keyword">this</span>.arrowWidth / <span class="number">2</span>, <span class="keyword">this</span>.vertexTop.y + <span class="keyword">this</span>.arrowHeight );</div><div class="line">            <span class="keyword">this</span>.ctx.closePath();</div><div class="line">            <span class="keyword">this</span>.ctx.stroke();</div><div class="line"></div><div class="line">            <span class="comment">// 再绘制右面箭头</span></div><div class="line">            <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">            <span class="keyword">this</span>.ctx.moveTo( <span class="keyword">this</span>.vertexRight.x, <span class="keyword">this</span>.vertexRight.y );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexRight.x - <span class="keyword">this</span>.arrowHeight, <span class="keyword">this</span>.vertexRight.y - <span class="keyword">this</span>.arrowWidth / <span class="number">2</span> );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexRight.x - <span class="keyword">this</span>.arrowHeight / <span class="number">2</span>, <span class="keyword">this</span>.vertexRight.y );</div><div class="line">            <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.vertexRight.x - <span class="keyword">this</span>.arrowHeight, <span class="keyword">this</span>.vertexRight.y + <span class="keyword">this</span>.arrowWidth / <span class="number">2</span> );</div><div class="line">            <span class="keyword">this</span>.ctx.closePath();</div><div class="line">            <span class="keyword">this</span>.ctx.stroke();</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 把传入进来的数据转化为对应画布的坐标</span></div><div class="line">        processData: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// 计算x轴可表示的刻度范围</span></div><div class="line">            <span class="keyword">this</span>.rangeX = <span class="keyword">this</span>.ctx.canvas.width - <span class="keyword">this</span>.paddingArr[<span class="number">3</span>] - <span class="keyword">this</span>.paddingArr[<span class="number">1</span>] - <span class="keyword">this</span>.arrowArr[<span class="number">1</span>];</div><div class="line">            <span class="comment">// 计算单位数据占用多少x轴</span></div><div class="line">            <span class="keyword">this</span>.unitX = <span class="keyword">this</span>.rangeX / (<span class="keyword">this</span>.data.length - <span class="number">1</span>);</div><div class="line"></div><div class="line">            <span class="comment">// 计算y轴可表示的刻度范围</span></div><div class="line">            <span class="keyword">this</span>.rangeY = <span class="keyword">this</span>.ctx.canvas.height - <span class="keyword">this</span>.paddingArr[<span class="number">0</span>] - <span class="keyword">this</span>.paddingArr[<span class="number">2</span>] - <span class="keyword">this</span>.arrowArr[<span class="number">1</span>];</div><div class="line">            <span class="comment">// 计算单位数据占用多少y轴</span></div><div class="line">            <span class="keyword">this</span>.unitY = <span class="keyword">this</span>.rangeY / <span class="built_in">Math</span>.max.apply( <span class="literal">null</span>, <span class="keyword">this</span>.data );</div><div class="line"></div><div class="line">            <span class="comment">// 用来存储转换后的坐标数据</span></div><div class="line">            <span class="keyword">this</span>.processArr = [];</div><div class="line"></div><div class="line">            <span class="comment">// 遍历所有的数据，依次转换为对应的坐标</span></div><div class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.data.length; i &lt; len; i++ ) &#123;</div><div class="line">                <span class="comment">/*</span></div><div class="line">                 * 数据转化为相当于画布的坐标：</div><div class="line">                 * canvasX = this.origin.x + this.unitX * i</div><div class="line">                 * canvasY = this.origin.y - this.unitY * y</div><div class="line">                 * */</div><div class="line">                <span class="keyword">this</span>.processArr.push( <span class="keyword">this</span>.origin.x + <span class="keyword">this</span>.unitX * i );</div><div class="line">                <span class="keyword">this</span>.processArr.push( <span class="keyword">this</span>.origin.y - <span class="keyword">this</span>.unitY * <span class="keyword">this</span>.data[ i ] );</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 根据数据绘制相应的点</span></div><div class="line">        drawPoint: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> r = <span class="number">4</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 遍历所有的坐标，依次绘制点</span></div><div class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.processArr.length; i &lt; len; i+=<span class="number">2</span> ) &#123;</div><div class="line">                <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">                <span class="keyword">this</span>.ctx.arc( <span class="keyword">this</span>.processArr[ i ], <span class="keyword">this</span>.processArr[ i + <span class="number">1</span> ], r, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span> );</div><div class="line">                <span class="keyword">this</span>.ctx.fill();</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 根据数据绘制折线</span></div><div class="line">        drawLine: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.processArr.length; i &lt; len; i+=<span class="number">2</span> ) &#123;</div><div class="line">                <span class="keyword">this</span>.ctx.lineTo( <span class="keyword">this</span>.processArr[ i ], <span class="keyword">this</span>.processArr[ i + <span class="number">1</span> ] );</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">this</span>.ctx.stroke();</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    w.LineChart = LineChart;</div><div class="line">&#125;( <span class="built_in">window</span> ));</div></pre></td></tr></table></figure></p>
<p>对饼图绘制进行封装的 js 代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> w </span>) </span>&#123;</div><div class="line">    <span class="comment">// 角度转换为弧度</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">angleToRadian</span>(<span class="params"> angle </span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.PI / <span class="number">180</span> * angle;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">     * constructor &#123; PipeChart &#125; 饼图构造函数</div><div class="line">     * param &#123; ctx: Context &#125; 绘图上下文</div><div class="line">     * param &#123; data: Array &#125; 绘制饼图所需的数据</div><div class="line">     * param &#123; x: number &#125; 圆心x坐标</div><div class="line">     * param &#123; y: number &#125; 圆心y坐标</div><div class="line">     * param &#123; r: number &#125; 饼图半径</div><div class="line">     * */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">PipeChart</span>(<span class="params"> ctx, data, x, y, r </span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.ctx = ctx;</div><div class="line">        <span class="keyword">this</span>.data = data;</div><div class="line">        <span class="keyword">this</span>.x = x;</div><div class="line">        <span class="keyword">this</span>.y = y;</div><div class="line">        <span class="keyword">this</span>.r = r;</div><div class="line"></div><div class="line">        <span class="comment">// 文字衬托线到圆的距离</span></div><div class="line">        <span class="keyword">this</span>.lineSpace = <span class="number">20</span>;</div><div class="line"></div><div class="line">        <span class="comment">// 扇形和文字的杨色</span></div><div class="line">        <span class="keyword">this</span>.colors = <span class="string">'blue,hotpink,green,deeppink,ivory,skyblue,lavender,lavenderblush'</span>.split(<span class="string">','</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 把数据转换为对应的角度</span></div><div class="line">        <span class="keyword">this</span>.processData();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 置换原型</span></div><div class="line">    PipeChart.prototype = &#123;</div><div class="line"></div><div class="line">        <span class="attr">constructor</span>: PipeChart,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制饼图</span></div><div class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.drawPipe();</div><div class="line">            <span class="keyword">this</span>.drawText();</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 根据数据转换成对应的角度</span></div><div class="line">        processData: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">/*</span></div><div class="line">             * 实现思路：</div><div class="line">             * 1、求单位数据所占用的角度 ==&gt; 360 / 数据总和</div><div class="line">             * 2、使用单位数据所占用角度 * 每一份数据值得到每一份数据所占用的角度</div><div class="line">             * 3、把计算好的角度使用一个数据存储起来，供其他方法使用</div><div class="line">             * */</div><div class="line">            <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 求数据总和</span></div><div class="line">            <span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line">            <span class="keyword">this</span>.data.forEach( <span class="function"><span class="keyword">function</span>(<span class="params"> obj </span>) </span>&#123;</div><div class="line">                num += obj.val;</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            <span class="comment">// 求单位数据所占用的角度</span></div><div class="line">            <span class="keyword">var</span> unitAngle = <span class="number">360</span> / num;</div><div class="line"></div><div class="line">            <span class="comment">// 用来存储数据所占用饼图的角度</span></div><div class="line">            <span class="keyword">this</span>.processArr = [];</div><div class="line"></div><div class="line">            <span class="keyword">this</span>.data.forEach( <span class="function"><span class="keyword">function</span>(<span class="params"> obj </span>) </span>&#123;</div><div class="line">                <span class="comment">// 这里的this不是饼图实例，所以使用self</span></div><div class="line">                self.processArr.push( unitAngle * obj.val );</div><div class="line">            &#125;);</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制饼中的扇</span></div><div class="line">        drawPipe: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// 扇形默认起点和结束点</span></div><div class="line">            <span class="keyword">var</span> startAngle = <span class="number">0</span>;</div><div class="line">            <span class="keyword">var</span> endAngle = <span class="number">0</span>;</div><div class="line"></div><div class="line">            <span class="comment">/*</span></div><div class="line">             * 实现思路：</div><div class="line">             * 1、遍历所有计算好的角度</div><div class="line">             * 2、beginPath、moveTo到饼图圆心</div><div class="line">             * 3、画对应扇形的弧</div><div class="line">             * 3.1、弧的起点位置 = 上一个弧的结束点</div><div class="line">             * 3.2、弧的结束点位置 = 上一个弧的结束点 + 自己的角度</div><div class="line">             * 4、closePath</div><div class="line">             * 5、修改填充色</div><div class="line">             * 6、fill</div><div class="line">             * */</div><div class="line"></div><div class="line">            <span class="comment">// 遍历所有计算好的角度，绘制成不同颜色的扇形</span></div><div class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.processArr.length; i &lt; len; i++ ) &#123;</div><div class="line"></div><div class="line">                <span class="comment">// 当前扇形弧的起点位置 = 上一个扇形弧的结束点</span></div><div class="line">                <span class="comment">// 当前扇形弧的结束点位置 = 上一个扇形弧的结束点 + 自己扇形所占用的角度</span></div><div class="line">                startAngle = endAngle;</div><div class="line">                endAngle = endAngle + <span class="keyword">this</span>.processArr[i];</div><div class="line"></div><div class="line">                <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">                <span class="keyword">this</span>.ctx.moveTo( <span class="keyword">this</span>.x, <span class="keyword">this</span>.y );</div><div class="line">                <span class="keyword">this</span>.ctx.arc( <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.r, angleToRadian( startAngle ), angleToRadian( endAngle ) );</div><div class="line">                <span class="keyword">this</span>.ctx.closePath();</div><div class="line">                <span class="keyword">this</span>.ctx.fillStyle = <span class="keyword">this</span>.colors[ i ];</div><div class="line">                <span class="keyword">this</span>.ctx.fill();</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// 绘制文字</span></div><div class="line">        drawText: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// 扇形默认起点和结束点</span></div><div class="line">            <span class="keyword">var</span> startAngle = <span class="number">0</span>;</div><div class="line">            <span class="keyword">var</span> endAngle = <span class="number">0</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 扇形平分线的角度</span></div><div class="line">            <span class="keyword">var</span> lineAngle = <span class="number">0</span>;</div><div class="line">            <span class="keyword">var</span> lineX = <span class="number">0</span>;</div><div class="line">            <span class="keyword">var</span> lineY = <span class="number">0</span>;</div><div class="line"></div><div class="line">            <span class="comment">// 遍历所有计算好的角度，绘制成不同颜色的扇形</span></div><div class="line">            <span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.processArr.length; i &lt; len; i++ ) &#123;</div><div class="line"></div><div class="line">                <span class="comment">// 当前扇形弧的起点位置 = 上一个扇形弧的结束点</span></div><div class="line">                <span class="comment">// 当前扇形弧的结束点位置 = 上一个扇形弧的结束点 + 自己扇形所占用的角度</span></div><div class="line">                startAngle = endAngle;</div><div class="line">                lineAngle = startAngle + <span class="keyword">this</span>.processArr[i] / <span class="number">2</span>;</div><div class="line">                endAngle = endAngle + <span class="keyword">this</span>.processArr[i];</div><div class="line"></div><div class="line">                <span class="comment">/*</span></div><div class="line">                 * 求平分线的x&amp;y坐标</div><div class="line">                 * x: 圆心x + r * Math.cos( angleToRadian(45) )</div><div class="line">                 * y: 圆心y +  r * Math.sin( angleToRadian(45) )</div><div class="line">                 * */</div><div class="line">                lineX = <span class="keyword">this</span>.x + (<span class="keyword">this</span>.r + <span class="keyword">this</span>.lineSpace) * <span class="built_in">Math</span>.cos( angleToRadian(lineAngle) );</div><div class="line">                lineY = <span class="keyword">this</span>.y + (<span class="keyword">this</span>.r + <span class="keyword">this</span>.lineSpace) * <span class="built_in">Math</span>.sin( angleToRadian(lineAngle) );</div><div class="line"></div><div class="line">                <span class="comment">// 画扇形平分线</span></div><div class="line">                <span class="keyword">this</span>.ctx.beginPath();</div><div class="line">                <span class="keyword">this</span>.ctx.moveTo( <span class="keyword">this</span>.x, <span class="keyword">this</span>.y );</div><div class="line">                <span class="keyword">this</span>.ctx.lineTo( lineX, lineY );</div><div class="line">                <span class="keyword">this</span>.ctx.strokeStyle = <span class="keyword">this</span>.colors[i];</div><div class="line">                <span class="keyword">this</span>.ctx.stroke();</div><div class="line"></div><div class="line">                <span class="comment">// 添加文字描述</span></div><div class="line">                <span class="keyword">if</span>( lineAngle &gt;= <span class="number">90</span> &amp; lineAngle &lt;= <span class="number">270</span> ) &#123;</div><div class="line">                    <span class="keyword">this</span>.ctx.textAlign = <span class="string">'right'</span>;</div><div class="line">                    <span class="keyword">this</span>.ctx.moveTo( lineX, lineY );</div><div class="line">                    <span class="keyword">this</span>.ctx.lineTo( lineX - <span class="keyword">this</span>.ctx.measureText( <span class="keyword">this</span>.data[i].msg ).width, lineY );</div><div class="line">                &#125;<span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">this</span>.ctx.textAlign = <span class="string">'left'</span>;</div><div class="line">                    <span class="keyword">this</span>.ctx.moveTo( lineX, lineY );</div><div class="line">                    <span class="keyword">this</span>.ctx.lineTo( lineX + <span class="keyword">this</span>.ctx.measureText( <span class="keyword">this</span>.data[i].msg ).width, lineY );</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">this</span>.ctx.textBaseline = <span class="string">'bottom'</span>;</div><div class="line">                <span class="keyword">this</span>.ctx.fillStyle = <span class="keyword">this</span>.colors[i];</div><div class="line">                <span class="keyword">this</span>.ctx.fillText( <span class="keyword">this</span>.data[i].msg, lineX, lineY - <span class="number">5</span> );</div><div class="line">                <span class="keyword">this</span>.ctx.stroke();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    w.PipeChart = PipeChart;</div><div class="line">&#125;( <span class="built_in">window</span> ));</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/llmaopp.jpg"
               alt="流浪猫" />
          <p class="site-author-name" itemprop="name">流浪猫</p>
          <p class="site-description motion-element" itemprop="description">不忘初心,方得始终</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">流浪猫</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  




  
  

  

  

  

  


</body>
</html>
